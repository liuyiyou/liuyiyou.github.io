title:  "Redis常用命令"
date: "2015-05-30"
categories:
  - redis
tags:
    - redis
---

Redis提供了丰富的命令对数据库和各种数据库类型进行操作，这些命令可以在Linux终端使用，命令太多，记不住，大概写一些常用的

## 连接Redis服务

用法：redis-cli [OPTIONS] [cmd [arg [arg ...]]]

-h <主机ip>，默认是127.0.0.1

-p <端口>，默认是6379

-a <密码>，如果redis加锁，需要传递密码

eg:

redis-cli -h 192.168.0.200 -p 3682 -a pwd

## 批量删除Key

redis 没有提供批量删除key的方法，只有匹配多个key的方法

```
set key1 1
set key2 2
del key*  #没有
get key*  #没有
key key* # 2
```

不过我们可以借助 Linux 的 xargs 指令来完成这个动作,注意，这个是直接在终端操作，而不需要连接redis
```
## 远程
./redis-cli  -h 192.168.0.200 -p 3682 -a ibalife KEYS "PhysicalShopAdmin:*"|xargs  ./redis-cli  -h 192.168.0.200 -p 3682 -a ibalife  DEL
## 本地
./redis-cli   KEYS "key:*"|xargs  ./redis-cli   DEL
```
### 键值相关命令


- keys：返回满足给定pattern的所有key   eg:  key *
- exists：确认一个key是否存在   eg:  exists  name
- del ：删除一个key    eg: del  age
- expire：设置key的过期时间  eg: expire  name 10
- ttl  ：获取key的有效时长   eg :  ttl name
- move：将当前数据库中的key转移到其它数据库中  eg : move age 1
- persist：移除指定key过期时间   persist age
- randomkey：随机返回一个key
- rename：重命名key
- type：返回key的数据类型



### 服务器相关命令

- select：选择数据库  eg：select 0
