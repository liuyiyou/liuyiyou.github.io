date: "2016-05-01"
categories: 
  - java
title: java复习笔记(一)
tags : java
---

## 目的

工作几年，基础记了忘，忘了记，现在统一记录一下，后续都可以在这里进行回顾

## 内容

- 数据类型
- 变量和常量
- 运算符
- 字符串


## 数据类型

### 字节占比

```java
// 1
System.out.println(Byte.BYTES);
// 2
System.out.println(Character.BYTES);
String cnWorldStr = "中";
// 3 ： utf-8
System.out.println(cnWorldStr.getBytes().length);
// 4
System.out.println(Integer.BYTES);
// 4
System.out.println(Float.BYTES);
// 8
System.out.println(Double.BYTES);
 
```

### 取值范围


```java
//-2的7次方到2的7次方-1
System.out.println(Byte.MIN_VALUE + "-" + Byte.MAX_VALUE);
System.out.println(Character.MIN_VALUE + "-" + Character.MAX_VALUE);
//-2的31次方到2的31次方-1
System.out.println(Integer.MIN_VALUE + "-" + Integer.MAX_VALUE);
//-2的149到2的149次方-1
System.out.println(Float.MIN_VALUE + "-" + Float.MAX_VALUE);
//-2的1074次方到2的1074方-1
System.out.println(Double.MIN_VALUE + "-" + Double.MAX_VALUE);

```

### 缓存

Integer、Long 在parse的时候缓存 -127到128的值

##  变量和常量

###  局部变量

在方法或语句块中申明的变量，生命周期只在定义的{}之中，不能跨方法或语句块使用。

### 类变量（静态变量）

静态变量也称作类变量，是在类之中，方法之外，以static关键字申明的变量，其独立在对象之外，有许多对象共享的变量。静态变量在对象产生之前产生，并长驻于内存，其在JVM关闭时销毁。

### 成员变量（非静态变量）

成员变量也称作实例变量、属性， 申明在类之中，方法之外的变量，随对象销毁而销毁。

### 常量

通过`final`关键字进行生命，不能修改


下面的方法运行：静态变量与对象实例无关，会一直累加。类变量与对象实例有关。第一个for循环因为只有一个实例，该对象的成员变量会累加。第二个for循环是多个实例，每次都是该实例调用，所以每次都是打印1 。 局部变量生命周期只是在方法体中

```java
public class VarTest {

    // 静态变量
    public static Integer GLOBAL_VAR = 0;

    final Integer CONST_VAR = 0;

    // 成员变量
    private Integer CLASS_VAR = 0;

    public void varTest() {
        // 局部变量
        Integer methodVar = 0;
        // CONST_VAR++;// 常量不能变化
        GLOBAL_VAR++;
        CLASS_VAR++;
        methodVar++;
        System.out.println("静态变量：" + GLOBAL_VAR + "\t成员变量:" + CLASS_VAR + "\t" + "局部变量" + methodVar);
    }

    public static void main(String[] args) {
        VarTest varTest = new VarTest();
        for (int i = 0; i < 10; i++) {
            varTest.varTest();
        }
        for (int i = 0; i < 10; i++) {
            VarTest varTest2 = new VarTest();
            varTest2.varTest();
        }
    }
}


```

## 运算符

这个不需要记忆运算符的优先级，在编码的时候，注意用括号就行


### 字符串

可以参考：[Java常量字符串String理解](http://developer.51cto.com/art/200711/60242.htm)


```java

public class StringTest {

    public static void main(String[] args) {
        // 创建一个对象
        String s1 = "Hello";
        // 因为创建了一个对象，直接从常量池中取，所以 s1==s2
        String s2 = "Hello";
        // 创建一个对象，因为Hello已经存在，所以不会在常量池中创建，如果没有，则该语句创建两个对象
        String s3 = new String("Hello");
        String s4 = new String("Hello");
        System.out.println(s1 == s2); // true 从常量池中直接取出
        System.out.println(s1.equals(s2)); // true
        System.out.println(s2 == s3); // false
        System.out.println(s2.equals(s3)); // true
        System.out.println(s3 == s4);
        System.out.println(s3.equals(s4)); // true

        System.out.println(X.strX == Y.strY); // true
        System.out.println(X.strX == Z.strZ); // true
        String s5 = "hel";
        String s6 = "lo";
        System.out.println(X.strX == (s5 + s6)); // false
        System.out.println(X.strX == (s5 + s6).intern()); // true

        System.out.println(new M().strX == new N().strY); // true
        System.out.println(new M().strX == new O().strZ); // true
    }

}

class X {
    public static String strX = "hello";
}

class Y {
    public static String strY = "hello";
}

class Z {
    public static String strZ = "hell" + "o";
}

class M {
    public String strX = "hello";
}

class N {
    public String strY = "hello";
}

class O {
    public String strZ = "hell" + "o";
}
```



