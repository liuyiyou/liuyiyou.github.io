---
title:  "Redis安装"
date: "2015-05-28"
categories:
  - redis
tags:
    - redis
---

## 内容
- Mac安装Redis
- Docker安装Redis

## Mac安装Redis

### 下载

```sh
$lyy:cd  /Users/liuyiyou/soft
$lyy: wget http://download.redis.io/releases/redis-3.0.1.tar.gz
$lyy: tar xzf redis-3.0.1.tar.gz
$lyy: cd redis-3.0.1
$lyy: make
$lyy: cd src  
$lyy: install

```
安装完成之后的路径

```sh
$lyy: cd /Users/liuyiyou/soft/redis-3.0.1

```

### 配置环境变量：

为了以后方便使用，一般会将Redis的相关命令和配置文件移动到/usr/local/redis下

```sh
  ~  mkdir -p /usr/local/redis/bin
  ~  mkdir -p /usr/local/redis/etc
  ~ mv /Users/liuyiyou/soft/redis-3.0.1/redis.conf /usr/local/redis/etc
  ~  cd /Users/liuyiyou/soft/redis-3.0.1/src
  mv mkreleasehdr.sh redis-benchmark redis-check-aof redis-check-dump
  redis-cli redis-server /usr/local/redis/bin
```



Redis分为服务端和客户端，默认端口为6379，当然也可以通过--port xxxx来指定端口运行服务


## Docker安装Redis

```sh
docker search  redis
docker pull redis
```


## 启动redis服务

### Mac方式启动

```sh
cd /usr/local/redis/bin
./redis-server
# 也可以直接使用  redis-server ，因为已经将命令复制到/user/local中了

13133:C 05 Oct 13:28:46.925 # Warning: no config file specified, using the default config.
In order to specify a config file use ./redis-server /path/to/redis.conf
13133:M 05 Oct 13:28:46.926 * Increased maximum number of open files to 10032 (it was originally set to 256).
```

### Docker方式启动

```sh
## 第一次
docker run -p 63790:6379  --name docker-redis -v /Users/liuyiyou/docker/redis/data:/data  -d redis redis-server
## 后续
docker start  docker-redis
```

## 以守护进程的方式启动并指定配置文件

将redis.conf文件中的daemonize no 改成yes

```sh

./redis-server /usr/local/redis/etc/redis.conf
# 是否启动成功
 ps -ef|grep redis
 netstat -tunpl | grep  6379
```


默认数据库是0号数据库。可以通过select选择其他数据库。
